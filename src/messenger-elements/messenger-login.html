<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-form/iron-form.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-auth.html">


<dom-module id="messenger-login">
	
	<template>
		<style>
			:host{
				display: block;
			}

			paper-button {
				color:white;
				margin: 1em 0 0 0;
				background-color: var(--accent-color);
			}
		</style>

		<firebase-auth id="auth"></firebase-auth>

		<form is="iron-form" id="form">
			<paper-input label="Correo electrónico" type="email" id="email" required="true"></paper-input>
			<paper-input label="Contraseña" type="password" id="password" required="true"></paper-input>
			<paper-button raised id="button">Ingresar</paper-button>
		</form>

	</template>

	<script>
		Polymer({
			is: "messenger-login",
			ready: function() {
				this.$.button.addEventListener("click", ()=> this.sendForm())
			},
			sendForm: function () {
				var email = this.$.email.value
				var password = this.$.password.value
				this.$.auth.createUserWithEmailAndPassword(email, password)
					.then(function() {
						console.log("Usuario Creado");
					});
			}
		})
	</script>

</dom-module>